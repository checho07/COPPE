


<ion-content padding>
 
  <ion-fab>
      <button ion-fab mini (click)="profiles()" ><ion-icon name="arrow-back"></ion-icon></button>
    </ion-fab>
  

    <video autoplay loop muted src="assets/video/video1.mp4"></video>
    
    <div class="imgholder" text-center>
        <img [src]="avatarimage" alt="">
      </div>
  <div class="signcard" text-center>
     
      <ion-segment [(ngModel)]="signform">
          <ion-segment-button (click)="changeAvatar()" class="segbtn1" value="login">
            Iniciar sesión
          </ion-segment-button>
          <ion-segment-button (click)="changeAvatar()" class="segbtn2" value="signup">
            Registrate
          </ion-segment-button>
        </ion-segment>

        
      <div class="loginForm" [ngSwitch]="signform">
        <div padding *ngSwitchCase="'login'">
            <h2 class="userType"> {{userType}}</h2>
            <form [formGroup]="loginForm" (ngSubmit)="doLogin()" >
            <div class="detailsholder" padding>
              
                <ion-label stacked>Correo</ion-label>
                <ion-input type="email" placeholder="correo@dominio.com" formControlName="email" clearOnEdit=false ></ion-input>              
                <ion-label stacked>Contraseña</ion-label>
                <ion-input [type]="passwordType" placeholder="******" formControlName="password" clearOnEdit=false></ion-input>
                <ion-icon item-end [name]="passwordIcon" class="passwordIcon" (tap)='hideShowPassword()' ></ion-icon>
                
            </div> 
            <div padding-horizontal>
                  <button class="loginbtn"ion-button  full [disabled]="!loginForm.valid" >Ingresar</button>
              </div>
            </form>
              <div text-right padding-horizontal> 
                  <p (click)="recoverPass()" ><b> Recuperar contraseña</b> </p>
                </div>
        </div>
        
        <div padding *ngSwitchCase="'signup'">
            <h2 class="userType">{{userType}}</h2>
            <form [formGroup]="singUpForm" (ngSubmit)="signUp()" >
            <div class="detailsholder" padding>             
                <ion-label stacked>Correo</ion-label>
                <ion-input type="email" placeholder="correo@dominio.com" formControlName="email" clearOnEdit=false></ion-input>
                <ion-label stacked>Contraseña</ion-label>
                <ion-input [type]="passwordType" placeholder="******" formControlName="password" clearOnEdit=false></ion-input>
                <ion-label stacked>Confirmar contraseña</ion-label>
                <ion-input [type]="passwordType" placeholder="******" formControlName="password" clearOnEdit=false formControlName="password2"></ion-input>
                <ion-icon item-end [name]="passwordIcon" class="passwordIcon" (tap)='hideShowPassword()' ></ion-icon>
            </div>

              <div padding-horizontal>
                  <button class="loginbtn"ion-button  full [disabled]="!singUpForm.valid">Registrar</button>
              </div>
              <div style="color:color($colors,primary)" class="alert alert-danger">
                  <div *ngIf="singUpForm.hasError('notSame')">
                   <b> *Las contraseñas no coinciden.</b>
                  </div>
                  <div *ngIf="singUpForm.controls['email'].hasError('pattern')">
                   <b> * Tu correo tiene que tener el siguiente formato correo@dominio.com</b>
                  </div>       
                  <div  *ngIf="singUpForm.controls['password'].hasError('minlength')">
                    <b>* la contraseña debe tener minimo 6 caracteres</b>
                  </div>
                </div>
            </form>
        </div>

      </div>
  </div>
   
</ion-content>
